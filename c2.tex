\begin{sagesilent}
import numpy as np

rc = np.recfromcsv("dati/C2-RC.csv")
rl = np.recfromcsv("dati/C2-RL.csv")



def stampa_dati(wa, header):
  s = r"\begin{tabular}{c*{" + "%d" % (len(wa.dtype)-1)
  s += r"}{|c}}"
  s += "%s \\\\" % (header)
  s += r"\midrule"
  for i in range(0, len(wa)):
    a = ["%s" %x for x in wa[i]]
    s += "%s \\\\" % join(a, "&")
  s += r"\end{tabular}"
  return s
  
  

plt.clf()
plt.ylim(ymin=3, ymax=15)
plt.title("Grafico 1")
plt.xlabel("Frequenza (Hz)")
plt.ylabel("Corrente (mA)")
plt.grid(True, which='both')
plt.loglog(d['frequenza_hz'], d['i_ma'], '.r')
plt.savefig("grafici/C2-1.png", dpi=300)

plt.clf()
plt.ylim(ymin=0.3, ymax=1.5)
plt.grid(True, which='both')
plt.title("Impedenze")
plt.loglog(d['frequenza_hz'], d['valore_mu']/d['v_rms'], '.r')
plt.savefig("grafici/C2-2.png", dpi=300)

\end{sagesilent}



\chapter{C2}


\section{Risposta in frequenza del multimetro}



\begin{center}
\includegraphics[scale=0.75]{grafici/C2/cv.png} 
\end{center}

Per il grafico in alto,che mostra la lettura dell'intensità di corrente in funzione della frequenza, l'errore è dato dalla sensibilità dello strumento: $\sigma_i = 0.1\ mA$.
\

Il secondo grafico, che mostra i limiti operativi del multimetro rispetto la frequenza, L'errore sulla lettura dal multimetro è la sensibilità dello strumento: $\sigma_{mu} = 0.005\ V$. Per stimare l'errore su $V_{RM}$ abbiamo usato la deviazione standard, assumendo quindi che $V_{RMS}$ dovrebbe rimanere costante. 
Indi per cui, la propagazione degli errori risulta:
$$\sigma_r = \sqrt{\frac{\sigma_{mu}^2}{V_{RMS}^2} + \frac{\sigma_{rms}^2}{V_{RMS}^4}}$$

%E' giusto pensare che rimanga costante?f'

In nostro multimetro opera nella banda di $True\ RMS$, fino a  $1000\ Hz$.   

%Quesiti:
%
%
%
%
%

\section{Misura di impedenze ignote}

Scopo di questa seconda parte è misurare l'impedenza di un circuito RC e RL in frequenza alternata. Mostreremo la dipendenza di Z dalla frequenza.


\begin{center}

%\sagestr{stampa_dati(rc, r"Frequenza (Hz) & I (mA) & Valore mu & $V_{rms}$ (V)")}
\end{center}


\begin{center}
\includegraphics[scale=0.75]{grafici/C2/rc.png} 
\end{center}

Dal fit ricavo: $C = 374.53\pm8.44 nF$, che rientra nei valori aspettabili, dato che il valore teorico è $367 nF$. 
Il $chi^{\tilde}^2= 1.4461 $ 

%chi quadro rotto da sistemare.

\begin{center}

%\sagestr{stampa_dati(rl, r"Frequenza (Hz) & I (mA) & Valore mu & $V_{rms}$ (V)")}
\end{center}



\begin{center}
\includegraphics[scale=0.75]{grafici/C2/rl.png} 
\end{center}

$L = 0.016074\pm 0.000092 H$
$\chi^{\tilde}^2 = 1.4546$




